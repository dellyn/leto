(this.webpackJsonpleto=this.webpackJsonpleto||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(15),s=n.n(i),r=(n(21),n(7)),l=(n(22),n(6)),o=n(8),u=n.n(o),d=n(10),b=n(16),j=/\s\s+/g,f={id:null,value:null,label:"",done:!1,flag:""},v={date:null,id:null,tasks:Object(b.a)(new Array(1).keys()).map((function(e){return Object(l.a)(Object(l.a)({},f),{},{id:e})})),additionalInfo:{label:""}},O=900,h=650,m=(n(24),n(1)),x=function(e){var t=e.data,n=e.onFieldChange,c=e.handleKeyNavigation,i=e.blankId,s=e.active,l=e.checkedStatus,o=e.setCheckedStatus,u=e.isDisabled,d=e.setIsDisabled,b=Object(a.useState)(t.label),f=Object(r.a)(b,2),v=f[0],O=f[1],h=Object(a.useRef)(null),x=function(){n({name:"done",value:!1}),n({name:"label",value:""})},g="input".concat(i).concat(t.id),p=!l&&v.length>0&&u,S=l&&v.length>0;return Object(m.jsxs)("div",{className:"input-field ".concat(u&&s?"active":"inactive"),onClick:function(){v&&(n({name:"done",value:!l}),o(!l))},children:[Object(m.jsx)("input",{className:"todo",id:g,value:v,title:v,onChange:function(e){var t=e.target.value.replace(j," ");t&&n({name:"label",value:t}),c(e,t),O(t)},onClick:function(e){e.stopPropagation()},onBlur:function(){s&&d(!0),v||x()},onFocus:function(){d(!1)},onKeyDown:c,disabled:u,ref:h}),p&&Object(m.jsx)("label",{htmlFor:g,className:"todo-btn edit-btn",onClick:function(e){var t;e.stopPropagation(),h.current.disabled=!1,h.current.selectionStart=null===(t=h.current.value)||void 0===t?void 0:t.length,h.current.focus(),d(!1)},children:"\u270e"}),S&&Object(m.jsx)("label",{htmlFor:g,className:"todo-btn delete-btn",onClick:function(e){e.stopPropagation(),x(),O("")},children:"\u2716"})]})},g=(n(26),function(e){var t=e.onFieldChange,n=e.data,c=e.handleKeyNavigation,i=e.listCounter,s=e.blankId,o=e.active,u=Object(a.useState)(n.done),b=Object(r.a)(u,2),j=b[0],f=b[1],v=Object(a.useState)(o),O=Object(r.a)(v,2),h=O[0],g=O[1],p="".concat(j?"done":""," ").concat(h?"disabled":"enabled","\n  ");return Object(m.jsxs)("div",{className:"task-field ".concat(p),children:[Object(m.jsxs)("span",{className:"list-counter",children:[i+1,"."]}),Object(m.jsx)(x,{data:n,onFieldChange:function(e){var a=Object(l.a)(Object(l.a)({},n),{},Object(d.a)({},e.name,e.value));t({name:"tasks",value:a})},handleKeyNavigation:c,listCounter:i,blankId:s,checkedStatus:j,setCheckedStatus:f,setIsDisabled:g,isDisabled:h,active:o},n.id)]})}),p=function(e,t){var n=Object(a.useRef)(!1);Object(a.useEffect)((function(){if(n.current){var e=setTimeout((function(){t()}),500);return function(){clearTimeout(e)}}n.current=!0}),[e])},S=40,k=38,N=37,w=13,I=8,y=function(e){var t=Object(a.useState)({index:null}),n=Object(r.a)(t,2),c=n[0],i=n[1];return{nextFocusInput:c,handleKeyNavigation:function(t,n){var a=e.current;if(a){var c=t.currentTarget.selectionStart,s=Array.prototype.indexOf.call(a,t.target),r=a.elements[s-1],l=a.elements[s+1],o=a.elements[s];""===n&&i({index:s});var u=function(e,n,a){t.preventDefault(),e.disabled=!1,a&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e,a=n.value;n.value=t;var c=new Event("input",{bubbles:!0}),i=n._valueTracker;i&&i.setValue(a),n.dispatchEvent(c)}(a),n&&(e.selectionStart=n),e.focus()};switch(t.keyCode){case w:var d;if(l)u(l,null===(d=l.value)||void 0===d?void 0:d.length);break;case I:var b;if(0===o.value.length&&r)u(r,null===(b=r.value)||void 0===b?void 0:b.length,o);break;case k:var j;if(r)u(r,null===(j=r.value)||void 0===j?void 0:j.length);break;case S:var f;if(l)u(l,null===(f=l.value)||void 0===f?void 0:f.length);break;case N:var v;if(0===c&&r)u(r,null===(v=r.value)||void 0===v?void 0:v.length)}}}}},C=(n(27),"letoAppData"),E=u()(),F=function(e){localStorage.setItem(C,JSON.stringify(e))},T=function(e){return u()(e).isSame(E,"day")},D=localStorage.getItem(C),P=function(e){var t=e.data,n=e.onSave,c=Object(a.useState)({tasks:t.tasks,id:t.id,date:t.date,additionalInfo:t.additionalInfo}),i=Object(r.a)(c,2),s=i[0],o=i[1],b=Object(a.useRef)(null),j=u()(s.date).format("dddd"),v=y(b),O=v.nextFocusInput,h=v.handleKeyNavigation,x=function(e){if("tasks"===e.name){var t=s.tasks.map((function(t){return t.id===e.value.id?e.value:t}));o((function(e){return function(e){var t=e.tasks.length;if(t>=1){var n=e.tasks.reduce((function(e,t){return t.label?e+1:e}),0);if(n===t){var a=e.tasks,c=a[a.length-1].id;return a.push(Object(l.a)(Object(l.a)({},f),{},{id:c+1})),Object(l.a)(Object(l.a)({},e),{},{tasks:a})}if(n<t-1){var i=e.tasks.filter((function(e,n){return e.label||n===t-1}));return Object(l.a)(Object(l.a)({},e),{},{tasks:i})}return e}}(Object(l.a)(Object(l.a)({},e),{},{tasks:t}))}))}else o((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(d.a)({},e.name,e.value))}))};Object(a.useEffect)((function(){null!==O.index&&b.current.elements[O.index].focus()}),[O]),Object(a.useEffect)((function(){!function(){if(T(s.date)&&b){var e=b.current,t=e.elements[0],n=e.elements[e.elements.length-1];t.value?n.focus():t.focus()}}()}),[]),p(s,(function(){return n(s)}));return Object(m.jsxs)("div",{className:"blank ".concat(function(){switch(!0){case e=s.date,u()(e).isBefore(E,"day"):return"past";case function(e){return u()(e).isAfter(E,"day")}(s.date):return"future";default:return"present"}var e}()),children:[Object(m.jsx)("h2",{className:"week-day",children:j}),Object(m.jsx)("p",{className:"date",children:u()(s.date).format("MMM DD[, ] YY")}),Object(m.jsx)("form",{className:"fields-list scroll",ref:b,children:s.tasks.map((function(e,t){return Object(m.jsx)(g,{data:e,listCounter:t,blankId:s.id,onFieldChange:x,handleKeyNavigation:h,active:t!==s.tasks.length-1},e.id)}))})]})},J=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},K=function(){var e=Object(a.useState)(J()),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){c(J())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},A=n(42),R=n(40),V=n(41),B=n(38),L=n(39),M={slidesPerView:5},z={slidesPerView:1.3,centeredSlides:!0,spaceBetween:30},Y="btnNextSlide",H="btnPrevSlide";n(28),n(29),n(30);V.a.use([B.a,L.a]);var W=function(e){var t=e.todaySlideIndex,n=e.onReachSliderEnd,c=e.data,i=K().width,s=i<h?z:M,o=Object(a.useState)({activeIndex:null,swiper:null}),u=Object(r.a)(o,2),d=u[0],b=u[1],j=Object(a.useState)(s),f=Object(r.a)(j,2),v=f[0],x=f[1],g=t>d.activeIndex+4.33,p=t<d.activeIndex,S=g||p;return Object(a.useEffect)((function(){x(i<h?z:i<O?{slidesPerView:2.5,centeredSlides:!0}:{slidesPerView:4.33})}),[i]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)("span",{className:"nav-btn btnSlide ".concat(H)}),S&&Object(m.jsx)("span",{className:"nav-btn nav-btn-small home-page",onClick:function(){null===d||void 0===d||d.swiper.slideTo(t-1,0)}}),Object(m.jsx)("span",{className:"nav-btn btnSlide ".concat(Y)})]}),Object(m.jsx)(A.a,Object(l.a)(Object(l.a)({},v),{},{onSwiper:function(e){var n=i<h?t:t-1;e.slideTo(n,0)},pagination:!0,navigation:{nextEl:".".concat(Y),prevEl:".".concat(H)},onSlideChange:function(e){b({activeIndex:e.activeIndex,swiper:e})},onReachEnd:n,virtual:!0,children:c.map((function(t,n){return Object(m.jsx)(R.a,{virtualIndex:n,children:Object(m.jsx)(P,{data:t,onSave:e.onSave})},"data-blank".concat(n))}))}))]})},_=(n(31),function(){var e=Object(a.useState)(JSON.parse(D)||[]),t=Object(r.a)(e,2),n=t[0],c=t[1],i=function(e,t){for(var a=[],c=!t?-1:1;c<=e;c++){var i=u()(t).add(c,"days"),r=n.length-1+c;a.push(s(i,r))}return a},s=function(e,t){return Object(l.a)(Object(l.a)({},v),{},{date:e,id:t})},o=function(e){var t=[];Array.isArray(e)?t=n.concat(e):t.push(e),c(t),F(t)},d=n.findIndex((function(e){return T(e.date)}));Object(a.useEffect)((function(){n.length<=7&&o(i(7))}),[]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"board-wrapper",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"board",children:Object(m.jsx)(W,{data:n,onSave:function(e){var t=n.map((function(t){return t.id===e.id?e:t}));c(t),F(t)},onReachSliderEnd:function(){var e=n[n.length-1].date;o(i(7,e))},slidesCount:n.length,todaySlideIndex:d})})})})})}),q=(n(32),c.a.createContext({settings:null,setTheme:function(e){}})),G=(n(33),function(){var e=Object(a.useContext)(q),t=e.settings,n=e.setTheme,c="light"!==t.theme,i=Object(a.useState)(c),s=Object(r.a)(i,2),l=s[0],o=s[1];return Object(m.jsxs)("div",{className:"theme-btn",children:[Object(m.jsxs)("label",{className:"switch",children:[Object(m.jsx)("input",{id:"toggle",type:"checkbox",checked:l,onChange:function(){o(!l),n(l?"light":"dark")}}),Object(m.jsx)("span",{className:"slider"})]}),Object(m.jsx)("div",{className:"slide-block slide-out"})]})}),Q=function(){return Object(m.jsx)("header",{className:"header-wrapper",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("h1",{className:"head-title",children:"LETO"}),Object(m.jsxs)("div",{className:"right",children:[Object(m.jsx)(G,{}),Object(m.jsx)("div",{className:"account",children:"Ingvar"})]})]})})})},U=(n(34),function(){return Object(m.jsx)("footer",{className:"footer-wrapper",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"footer"})})})}),X="letoSettings",Z={theme:"dark"},$=(n(35),JSON.parse(localStorage.getItem(X)));$||localStorage.setItem(X,JSON.stringify(Z));var ee=$||Z,te=function(){var e=Object(a.useState)(ee.theme),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(m.jsx)(q.Provider,{value:{settings:ee,setTheme:function(e){var t;c(e),ee.theme=e,t=ee,localStorage.setItem(X,JSON.stringify(t))}},children:Object(m.jsxs)("div",{className:"LETO ".concat(n),children:[Object(m.jsx)(Q,{}),Object(m.jsx)(_,{}),Object(m.jsx)(U,{})]})})};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(te,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.33beb5a0.chunk.js.map