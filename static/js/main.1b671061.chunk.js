(this.webpackJsonpleto=this.webpackJsonpleto||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(15),s=n.n(i),l=(n(21),n(22),n(6)),r=n(7),o=n(8),u=n.n(o),d=n(10),b=n(16),j=/\s\s+/g,v={id:null,value:null,label:"",done:!1,flag:""},f={date:null,id:null,tasks:Object(b.a)(new Array(1).keys()).map((function(e){return Object(l.a)(Object(l.a)({},v),{},{id:e})})),timeStatus:null,additionalInfo:{label:""}},O=1400,h=1100,m=900,x=650,g=(n(24),n(1)),p=function(e){var t=e.data,n=e.onFieldChange,c=e.handleKeyNavigation,i=e.blankId,s=e.active,l=e.checkedStatus,o=e.setCheckedStatus,u=Object(a.useState)(t.label),d=Object(r.a)(u,2),b=d[0],v=d[1],f=Object(a.useState)(s),O=Object(r.a)(f,2),h=O[0],m=O[1],x=Object(a.useRef)(null),p="".concat(h?"disabled":"enabled"),S="input".concat(i).concat(t.id),k=!l&&b.length>0&&h,N=l&&b.length>0;return Object(g.jsxs)("div",{className:"input-field ".concat(p),onClick:function(){b&&(o(!l),n({name:"done",value:!l}))},children:[Object(g.jsx)("input",{className:"todo",id:S,value:b,title:b,onChange:function(e){var t=e.target.value.replace(j," ");t?n({name:"label",value:t}):(o(!1),n({name:"done",value:!1}),n({name:"label",value:""})),c(e,t),v(t)},onClick:function(e){e.stopPropagation()},onBlur:function(){s&&m(!0)},onFocus:function(){m(!1)},onKeyDown:c,disabled:h,ref:x}),k&&Object(g.jsx)("label",{htmlFor:S,className:"todo-btn edit-btn",onClick:function(e){var t;e.stopPropagation(),x.current.disabled=!1,x.current.selectionStart=null===(t=x.current.value)||void 0===t?void 0:t.length,x.current.focus(),m(!1)},children:"\u270e"}),N&&Object(g.jsx)("label",{htmlFor:S,className:"todo-btn delete-btn",onClick:function(e){e.stopPropagation(),o(!1),n({name:"done",value:!1}),n({name:"label",value:""}),v("")},children:"\u2716"})]})},S=(n(26),function(e){var t=e.onFieldChange,n=e.data,c=e.handleKeyNavigation,i=e.listCounter,s=e.blankId,o=e.active,u=Object(a.useState)(n.done),b=Object(r.a)(u,2),j=b[0],v=b[1],f="".concat(o?"active":"inactive","\n  ").concat(j?"done":"");return Object(g.jsxs)("div",{className:"task-field ".concat(f),children:[Object(g.jsxs)("span",{className:"list-counter",children:[i+1,"."]}),Object(g.jsx)(p,{data:n,onFieldChange:function(e){var a=Object(l.a)(Object(l.a)({},n),{},Object(d.a)({},e.name,e.value));t({name:"tasks",value:a})},handleKeyNavigation:c,listCounter:i,blankId:s,checkedStatus:j,setCheckedStatus:v,active:o},n.id)]})}),k=function(e,t){var n=Object(a.useRef)(!1);Object(a.useEffect)((function(){if(n.current){var e=setTimeout((function(){t()}),500);return function(){clearTimeout(e)}}n.current=!0}),[e])},N=(n(27),function(e){var t=e.data,n=e.onFieldChange,c=Object(a.useState)(t.additionalInfo.label),i=Object(r.a)(c,2),s=i[0],l=i[1],o=Object(a.useState)(!1),u=Object(r.a)(o,2),d=u[0],b=u[1],v=Object(a.useRef)(null),f=function(){b(!d)};return Object(a.useEffect)((function(){var e=v.current;e&&d&&(e.focus(),e.selectionStart=e.value.length)}),[v,d]),Object(g.jsxs)("div",{className:"additional ".concat(d?"active":""),children:[Object(g.jsx)("span",{className:"additional-btn ".concat(s.length>3?"active ":""),onClick:f,children:"..."}),d&&Object(g.jsxs)("div",{className:"additional-info",onMouseLeave:f,children:[Object(g.jsx)("h2",{children:"Additional Info"}),Object(g.jsx)("div",{className:"content",children:Object(g.jsx)("textarea",{name:"additionalInfo",id:"textarea-blank".concat(t.id),value:s,onChange:function(e){var t=e.target.value.replace(j," ");l(t),n({name:e.target.name,value:{label:t}})},placeholder:"Reminder...",ref:v})})]})]})}),w=40,I=38,C=37,y=13,E=8,F=function(e){var t=Object(a.useState)({index:null}),n=Object(r.a)(t,2),c=n[0],i=n[1];return{nextFocusInput:c,handleKeyNavigation:function(t,n){var a=e.current;if(a){var c=t.currentTarget.selectionStart,s=Array.prototype.indexOf.call(a,t.target),l=a.elements[s-1],r=a.elements[s+1],o=a.elements[s];""===n&&i({index:s});var u=function(e,n,a){t.preventDefault(),e.disabled=!1,a&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e,a=n.value;n.value=t;var c=new Event("input",{bubbles:!0}),i=n._valueTracker;i&&i.setValue(a),n.dispatchEvent(c)}(a),n&&(e.selectionStart=n),e.focus()};switch(t.keyCode){case y:var d;if(r)u(r,null===(d=r.value)||void 0===d?void 0:d.length);break;case E:var b;if(0===o.value.length&&l)u(l,null===(b=l.value)||void 0===b?void 0:b.length,o);break;case I:var j;if(l)u(l,null===(j=l.value)||void 0===j?void 0:j.length);break;case w:var v;if(r)u(r,null===(v=r.value)||void 0===v?void 0:v.length);break;case C:var f;if(0===c&&l)u(l,null===(f=l.value)||void 0===f?void 0:f.length)}}}}},L=(n(28),function(e){var t=e.data,n=e.onSave,c=Object(a.useState)({tasks:t.tasks,id:t.id,date:t.date,timeStatus:t.timeStatus,additionalInfo:t.additionalInfo}),i=Object(r.a)(c,2),s=i[0],o=i[1],b=u()(s.date).format("dddd"),j=Object(a.useRef)(null),f=F(j),O=f.nextFocusInput,h=f.handleKeyNavigation,m=function(e){if("tasks"===e.name){var t=s.tasks.map((function(t){return t.id===e.value.id?e.value:t}));o((function(e){return function(e){var t=e.tasks.length;if(t>=1){var n=e.tasks.reduce((function(e,t){return t.label?e+1:e}),0);if(n===t){var a=e.tasks,c=a[a.length-1].id;return a.push(Object(l.a)(Object(l.a)({},v),{},{id:c+1})),Object(l.a)(Object(l.a)({},e),{},{tasks:a})}if(n<t-1){var i=e.tasks.filter((function(e,n){return e.label||n===t-1}));return Object(l.a)(Object(l.a)({},e),{},{tasks:i})}return e}}(Object(l.a)(Object(l.a)({},e),{},{tasks:t}))}))}else o((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(d.a)({},e.name,e.value))}))};return Object(a.useEffect)((function(){null!==O.index&&j.current.elements[O.index].focus()}),[O]),Object(a.useEffect)((function(){!function(){if("present"===s.timeStatus&&j){var e=j.current,t=e.elements[0],n=e.elements[e.elements.length-1];t.value?n.focus():t.focus()}}()}),[]),k(s,(function(){return n(s)})),Object(g.jsxs)("div",{className:"blank ".concat(s.timeStatus),children:[Object(g.jsx)("h2",{className:"week-day",children:b}),Object(g.jsx)("p",{className:"date",children:s.date}),Object(g.jsx)(N,{data:s,onFieldChange:m}),Object(g.jsx)("form",{className:"fields-list scroll",ref:j,children:s.tasks.map((function(e,t){return Object(g.jsx)(S,{data:e,listCounter:t,blankId:s.id,onFieldChange:m,handleKeyNavigation:h,active:t!==s.tasks.length-1},t)}))})]})}),P=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},T=function(){var e=Object(a.useState)(P()),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){c(P())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},A={slidesPerView:5},K={slidesPerView:1.3,centeredSlides:!0,spaceBetween:30},J="btnNextSlide",R="btnPrevSlide",V=n(40),B=n(38),D=n(39),z=n(37);n(29),n(30),n(31);D.a.use([z.a]);var M=function(e){var t=e.todaySlideIndex,n=Object(a.useState)({activeIndex:null,swiper:null}),c=Object(r.a)(n,2),i=c[0],s=c[1],o=T().width,u=o<x?K:A,d=Object(a.useState)(u),b=Object(r.a)(d,2),j=b[0],v=b[1];Object(a.useEffect)((function(){v(o<x?K:o<m?{slidesPerView:2.5,centeredSlides:!0}:o<h||o<O?{slidesPerView:4}:A)}),[o]);var f=i.activeIndex+1!==t;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"nav-btn btnSlide ".concat(R)}),f&&Object(g.jsx)("span",{className:"nav-btn home-page",onClick:function(){null===i||void 0===i||i.swiper.slideTo(t-1,0)}}),Object(g.jsx)(V.a,Object(l.a)(Object(l.a)({},j),{},{onSwiper:function(e){console.log("onSwiper");var n=o<x?t:t-1;e.slideTo(n,0)},pagination:!0,navigation:{nextEl:".".concat(J),prevEl:".".concat(R)},onSlideChange:function(e){s({activeIndex:e.activeIndex,swiper:e})},children:e.data.map((function(t,n){return Object(g.jsx)(B.a,{virtualIndex:n,children:Object(g.jsx)(L,{data:t,onSave:e.onSave},n)},n)}))})),Object(g.jsx)("span",{className:"nav-btn calendar"}),Object(g.jsx)("span",{className:"nav-btn btnSlide ".concat(J)})]})},H="letoAppData",U="letoLastUpdateDate",W=function(e){localStorage.setItem(H,JSON.stringify(e))},_=u()().format("L"),q=localStorage.getItem(H),G=(n(32),function(){var e=Object(a.useState)(JSON.parse(q)||[]),t=Object(r.a)(e,2),n=t[0],c=t[1],i=function(e,t){var n=u()(t).isBefore(_),a=u()(t).isAfter(_),c=u()(t).isSame(_);return n?e.timeStatus="past":a?e.timeStatus="future":c&&(e.timeStatus="present"),e},s=function(e,t){for(var a=[],c=!t?-1:1;c<=e;c++){var i=u()(t).add(c,"days").format("L"),s=n.length-1+c;a.push(o(i,s))}return a},o=function(e,t){var n=Object(l.a)(Object(l.a)({},f),{},{date:e,id:t});return i(n,e)},d=function(e){var t=[];Array.isArray(e)?t=n.concat(e):t.push(e),c(t),W(t)},b=n.findIndex((function(e){return u()(e.date).isSame(_)}));Object(a.useEffect)((function(){!function(e){var t=localStorage.getItem(U),n=JSON.parse(t);if(!u()(n).isSame(_)){var a=e.map((function(e){return i(e,e.date)}));W(a),c(a),localStorage.setItem(U,JSON.stringify(_))}}(n),n.length<=7&&d(s(7))}),[]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"board-wrapper",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"board",children:Object(g.jsx)(M,{data:n,onSave:function(e){var t=n.map((function(t){return t.id===e.id?e:t}));c(t),W(t)},onSlideEnded:function(){var e=n[n.length-1].date;d(s(7,e))},slidesCount:n.length,todaySlideIndex:b})})})})})}),Q=(n(33),function(){return Object(g.jsx)("header",{className:"header-wrapper",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("h1",{className:"head-title",children:"LETO"}),Object(g.jsx)("div",{className:"account",children:"Ingvar"})]})})})}),X=(n(34),function(){return Object(g.jsx)("footer",{className:"footer-wrapper",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"footer"})})})});var Y=function(){return Object(g.jsxs)("div",{className:"LETO",children:[Object(g.jsx)(Q,{}),Object(g.jsx)(G,{}),Object(g.jsx)(X,{})]})};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(Y,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.1b671061.chunk.js.map